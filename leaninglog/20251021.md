# í™˜ê²½ ë³€ìˆ˜ ì´ìš©

ì„œë²„ URLì€ CRUD ê¸°ëŠ¥ì„ ë§Œë“¤ ë–„ ì†ŒìŠ¤ ì½”ë“œì—ì„œ ì—¬ëŸ¬ ë²ˆ ë°˜ë³µë  ìˆ˜ ìˆìœ¼ë©°, ë°±ì—”ë“œê°€ ë°°í¬ê°€ ë˜ë©´ localhost:8080ì´ ì•„ë‹ˆê¸° ëŒ€ë¬¸ì— í™˜ê²½ ë³€ìˆ˜ë¡œ ë¯¸ë¦¬ ì •ì˜í•´ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ìˆ˜ì •ì´ ì´ë£¨ì–´ì§€ê³  ë‚˜ë©´ ê°±ì‹ ëœ GetCars()
ê°€ ë‹¤ì‹œ ìš”ì²­ë˜ì–´ì•¼ í•œë‹¤. ê·¸ëŸ¬ë©´ ìˆ˜ì • ë¶€ë¶„ì— ìˆëŠ” localhost:8080ê³¼ ë‹¤ì‹œ getCars()ë¥¼ ìš”ì²­í•  ë•Œì˜ localhost:8080ì„ ë§¤ë²ˆ URLë¡œ ì „ë¶€ ë‹¤ ê³ ì¹˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì´ë‹¤(ê·¸ë¦¬ê³  ì´ê±´ í•˜ë“œì½”ë”©ì— í•´ë‹¹í•œë‹¤).

ê·¸ë˜ì„œ í™˜ê²½ë³€ìˆ˜ URLì„ ì €ì¥í•´ë‘ê²Œ ë˜ë©´, URLì´ ë°”ë€” ë•Œ í™˜ê²½ ë³€ìˆ˜ë§Œ ìˆ˜ì •í•´ì£¼ë©´ ì¼ê´„ ë³€í™˜ì´ ë  ê²ƒì´ê¸° ë•Œë¬¸ì— í™˜ê²½ ë³€ìˆ˜ ì„¤ì •ì„ ë¯¸ë¦¬ í•˜ê³  ë‹¤ìŒ ê³¼ì •ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.

vite project ìƒì—ì„œëŠ” í™˜ê²½ ë³€ìˆ˜ ì´ë¦„ì€ `VITE_`ë¡œ ì‹œì‘í•˜ì—¬ì•„ í•œë‹¤. ì ‘ë‘ì‚¬ê°€ VITE\_ì¸ ë³€ìˆ˜ë§Œ ì†ŒìŠ¤ ì½”ë“œì—ì„œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

1. ì•±ì˜ ë£¨íŠ¸ í¬ëœì— `.env` íŒŒì¼ì„ ìƒì„±.

`VITE_API_URL = http://localhost:8080`

2.src í´ë” ë‚´ì— api í´ë” ìƒì„± -> carapi.ts íŒŒì¼ ìƒì„±

- ì´ìƒì€ ëª¨ë“  API í˜¸ì¶œ í•¨ìˆ˜ë¥¼ ìì²´ ëª¨ë“ˆë¡œ ë¶„ë¦¬í•˜ëŠ” ê³¼ì •ì´ë‹¤. ì¦‰ í˜„ì¬ ìƒí™©ì—ì„œëŠ” getCars()ë¥¼ Carlist ì»´í¬ë„ŒíŠ¸ì—ì„œ ë¶„ë¦¬í•´ì˜¤ê² ë‹¤ëŠ” ì˜ë¯¸ê°€ ëœë‹¤.

- .env íŒŒì¼ì´ src ë‚´ë¶€ì— ìˆëŠ” ê²½ìš°ê°€ ìˆìœ¼ë©´ URLì„ ì°¾ì§€ ëª»í•´ì„œ Not Found ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê¸° ë•Œë¬¸ì— ê°€ì¥ ìƒìœ„ì— ìœ„ì¹˜ì‹œí‚¬ ê²ƒ.

# í˜ì´ì§• / í•„í„°ë§ / ì •ë ¬ ì¶”ê°€

- github ë•ŒëŠ” Ag Grid ì‚¬ìš©, ì´ë²ˆì—ëŠ” MUI ê¸°ì¤€ìœ¼ë¡œ ì‘ì„± í•  ì˜ˆì •
- í„°ë¯¸ë„ì—ì„œ npm install @mui/x-data-grid@8.4.0

# ì‚­ì œ ê¸°ëŠ¥ ì¶”ê°€

- ì´ì œ ì¤‘ìš”í•œ ì ì€ ì‚­ì œë¥¼ í•˜ê¸° ìœ„í•´ì„œëŠ” íŠ¹ì • rowë¥¼ ì„ íƒí•´ì•¼ í•œë‹¤ëŠ” ì ê³¼, ì—”ë“œí¬ì¸íŠ¸ì— {id}ê°€ ì¶”ê°€ë˜ì–´ì•¼ í•œë‹¤ëŠ” ì ì´ë‹¤.

- ìš°ë¦¬ëŠ” ê° rowì— ëŒ€í•œ hrefë¥¼ ê°€ì§€ê³  ìˆë‹¤ëŠ” ì ì— ì£¼ëª©í•  í•„ìš”ê°€ ìˆë‹¤.

```json
{
  "_embedded": {
    "cars": [
      {
        "brand": "Kia",
        "model": "Seltos",
        "color": "Chacol",
        "registrationNumber": "370SU5690",
        "modelYear": 2020,
        "price": 30000000,
        "_links": {
          "self": {
            "href": "http://localhost:8080/api/cars/1"
          },
          "car": {
            "href": "http://localhost:8080/api/cars/1"
          },
          "owner": {
            "href": "http://localhost:8080/api/cars/1/owner"
          }
        }
      }
    ]
  }
}
```

HATEOASë¥¼ ì ìš©í–ˆê¸° ë•Œë¬¸ì— ê°ê°ì˜ id ê°’ì´ ìë™ìœ¼ë¡œ ì„¤ì •ë˜ì–´ìˆë‹¤. ì¦‰ DELETE methodë¥¼ \_links.self.hrefë¡œ ë³´ë‚´ì£¼ë©´ ì•Œì•„ì„œ ì‚­ì œê°€ ëœë‹¤ê³  ìƒê°í•  ìˆ˜ ìˆë‹¤.

ê·¸ë˜ì„œ í˜„ì¬ GET ìš”ì²­ì„ í†µí•´ì„œ `import.meta.env.VITE_API_URL/api/cars`ë¥¼ í•˜ê²Œ ëì„ ë•Œ x-data-gridì— ì˜í•´ì„œ ê° ìë™ì°¨ rowë“¤ì´ ë‚˜ì˜¤ê³  ìˆë‹¤. x-data=gridì˜ GridColDefë¥¼ ìˆ˜ì •í•˜ì—¬ ë²„íŠ¼ì„ í•˜ë‚˜ ì¶”ê°€í•˜ê³ , ê±°ê¸°ì— ì‚­ì œ ê¸°ëŠ¥ì„ ì ìš©í•  ê²ƒ.

ì™œëƒí•˜ë©´ key ì†ì„±ì— ì´ë¯¸ \_link.self.href ê°’ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

GridColDefì— ë”¸ë¦° columns ìƒìˆ˜ë¥¼ ìˆ˜ì •í•˜ì—¬ í•˜ë‚˜ì˜ columnì„ ì¶”ê°€í–ˆë‹¤. ì—¬ê¸°ì—ëŠ” Delete ë²„íŠ¼ì„ í• ë‹¹í–ˆë‹¤. ë‹¤ë¥¸ ì»¬ëŸ¼ë“¤ê³¼ ë‹¬ë¦¬ ì„¸ì„¸í•œ ì»¤ìŠ¤í…€ì´ í•„ìš”í•˜ê¸° ë•Œë¬¸ì— renderCell ì»¬ëŸ¼ ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì…€ì˜ ì»¨í…ì¸ ê°€ ë Œë”ë§ ë˜ëŠ” ë°©ì‹ì„ ì •ì˜í–ˆë‹¤.(ì—¬ê¸°ì„œëŠ” button íƒœê·¸ë¥¼ ì§‘ì–´ë„£ì—ˆë‹¤).
ê·¸ë¦¬ê³  í˜„ì¬ ìƒí™©ì—ì„œëŠ” alertì„ í†µí•´ \_links.self.hrefë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ì§€ë¥¼ í™•ì¸í–ˆëŠ”ë°, ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ê°œë…ì´ onClick={alert(\_links.self.href)}ë¥¼ ì“°ê²Œ ë˜ë©´ ì• ì´ˆì— í•¨ìˆ˜ì˜ ê²°ê³¼ê°’ì´ ì¶œë ¥ë ê±°ê¸° ë•Œë¬¸ì— ë²„íŠ¼ì„ ëˆ„ë¥´ëŠ” ê²ƒê³¼ëŠ” ìƒê´€ì´ ì—†ë‹¤ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¨ë‹¤.
onClick={()=> alert(\_links.self.href)}ê³¼ì˜ ì°¨ì´ì ì„ ëª…í™•í•˜ê²Œ ì•Œ í•„ìš”ê°€ ìˆë‹¤.

í•¨ìˆ˜ì˜ ì´ë¦„ì„ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ì „ë‹¬ / í•¨ìˆ˜ì˜ ê²°ê³¼ë¥¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— ì „ë‹¬í•˜ëŠ” ê²ƒì˜ ì°¨ì´ì ì„ ë³µìŠµí•  í•„ìš”ê°€ ìˆë‹¤. -> ê·¸ë¦¬ê³  ë§¤ê°œë³€ìˆ˜ê°€ ì¡´ì¬í•˜ëŠ” í•¨ìˆ˜ì˜ ì´ë¦„ë§Œ ì „ë‹¬í•˜ëŠ” ë°©ë²•ì´ ë¬´ì—‡ì¼ê¹Œë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤.

button íƒœê·¸ ë‚´ì— sort / filterë¥¼ ë¹„í™œì„±í™” ì‹œì¼°ê³ , ì»¬ëŸ¼ì˜ ë©”ë‰´ë¥¼ ë¹„í™œì„±í™” ì‹œí‚¤ëŠ” disableColumnMenuë¥¼ trueë¡œ ì„¤ì •í–ˆë‹¤.
ê·¸ë¦¬ê³  onClick ì´ë²¤íŠ¸ë„ ì„¤ì •í–ˆë‹¤.

ë‹¤ìŒ ê³¼ì •ì„ ì¢€ ê³ ë¯¼í•´ì•¼ í•œë‹¤. ê° rowë“¤ ë§ˆë‹¤ hrefê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— delete ìš”ì²­ì„ ë‚ ë¦´ ìˆ˜ ìˆì„ ê²ƒ.

í˜„ì¬ê¹Œì§€ì˜ ì½”ë“œë¥¼ í™•ì¸í•´ë³¸ ê²°ê³¼, ì¼ë‹¨ cardatabase_2ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§€ê¸ˆ back-front ì—°ê²°ì„ í•˜ê³  ìˆëŠ” ê²ƒì€ ë§ëŠ”ë°, ì–˜ê°€ Spring Data RESTë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ê³  ìˆë‹¤ ë³´ë‹ˆ ë¡œì§ ì„¤ëª…ì´ ë˜ê³  ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ì¦‰, ì½”ë“œ ìì²´ë¥¼ ë³´ê³  ë¡œì§ì„ ë– ì˜¬ë¦¬ê¸° ìœ„í•´ì„œëŠ” cardatabase_5ì˜ CarControllerì™€ CarServiceë¥¼ í™•ì¸í•  í•„ìš”ê°€ ìˆë‹¤.

Axiosì˜ delete ë©”ì„œë“œë¥¼ ì´ìš©í•˜ì—¬ DELETE ìš”ì²­ì„ ë³´ë‚´ëŠ”ë°, DELETE ìš”ì²­ì˜ ê²½ìš°ì—ëŠ” idê°’ì´ í•„ìš”í•˜ë‹¤ëŠ” ê²ƒì„ CarServiceì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.
ê·¸ëŸ°ë° id ê°’ì€ ì–´ë””ì— ìˆë‹¤? hrefì— ìˆë‹¤.

ê·¸ë¦¬ê³  ìš°ë¦¬ëŠ” í•¨ìˆ˜ë“¤ì„ frontendì—ì„œ ë‹¤ ë¶„ë¦¬ë¥¼ í–ˆë‹¤, ê·¸ë ‡ë‹¤ë©´ deleteCar í•¨ìˆ˜ë¥¼ ì‘ì„±í•´ì•¼ í•˜ëŠ” íŒŒì¼ì€ ì–´ë””ê°€ ë˜ëŠ”ì§€

```ts
import axios from "axios";
import { CarResponse } from "../types";
import { useQueryClient } from "@tanstack/react-query";
import { GridCellParams } from "@mui/x-data-grid";

export const getCars = async (): Promise<CarResponse[]> => {
  const response = await axios.get(`${import.meta.env.VITE_API_URL}/api/cars`);
  return response.data._embedded.cars;
};
export const deleteCar = async (link: string): Promise<CarResponse> => {
  const response = await axios.delete(link);
  return response.data;
};
```

getCars()ì˜ return íƒ€ì…ê³¼ deleteCar()ì˜ return íƒ€ì…ì˜ ì°¨ì´ë¥¼ ìƒê°í•  í•„ìš”ê°€ ìˆë‹¤. getCars()ì˜ ê²½ìš° ìë™ì°¨ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ê³ ìˆëŠ” ë°°ì—´ë§Œ ê°€ì§€ê³  ì™€ì„œ ê·¸ê²ƒì„ Carlist ì»´í¬ë„ŒíŠ¸ì˜ returnì— í‘œê¸°í•˜ë©´ ë˜ëŠ” ë°˜ë©´ì—, ì‚­ì œ í›„ì—ëŠ” GET ìš”ì²­ ì´í›„ì— ì™„ì „íˆ JSONì´ returnë  í•„ìš”ê°€ ìˆë‹¤. ê·¸ ì°¨ì´ë¡œ ì¸í•´ì„œ.\_embedded ìœ ë¬´ê°€ ê²°ì •ë‚˜ëŠ” ê²ƒ

í˜„ì¬ deleteCar() ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•œ useMutation() hookì„ ì ìš©í–ˆë‹¤. ê·¸ë¦¬ê³  ì‚­ì œ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ , ì‚­ì œê°€ DBì—ì„œëŠ” ëì§€ë§Œ frontend ìƒì—ì„œëŠ” ìƒˆë¡œê³ ì¹¨ì„ í•´ì•¼ì§€ë§Œ ì´ë£¨ì–´ì§„ë‹¤ëŠ” ì ë„ í™•ì¸ëœë‹¤.

ê·¸ë ‡ë‹¤ë©´ onSuccessëŠ” ì‚­ì œ ì´í›„ì—, ìƒˆë¡œ í”„ë¡ íŠ¸ì—”ë“œì— ê°±ì‹ ë˜ì–´ cars ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¤ëŠ” ê²ƒì´ ëœë‹¤.

ì¦‰ , ì´ì œ êµ¬í˜„í•  ë¶€ë¶„ì€ ìë™ì°¨ê°€ ì‚­ì œë˜ë©´ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ìë™ìœ¼ë¡œ ìƒˆë¡œ ê³ ì¹¨í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒ. react queryì—ì„œ ê°€ì ¸ì˜¨ ë°ì´í„°ëŠ” ì¿¼ë¦¬ í´ë¼ì´ì–¸íŠ¸ê°€ ì²˜ë¦¬í•˜ëŠ” ìºì‹œì— ì €ì¥ëœë‹¤. ì¿¼ë¦¬ í´ë¼ì´ì–¸íŠ¸ì—ëŠ” ë°ì´í„°ë¥¼ _ë‹¤ì‹œ ê°€ì ¸ì˜¤ëŠ” ë° ì´ìš©í•  ìˆ˜ ìˆëŠ” ì¿¼ë¦¬ ë¬´íš¨í™”_ ê¸°ëŠ¥ì´ ìˆë‹¤.

ë¬¼ë¡  useEffect()ì—ì„œ ì½œë°±í•¨ìˆ˜ë¥¼ í†µí•´ getCars()ë¥¼ í˜¸ì¶œí•˜ëŠ”ë°, `[cars]`ë¥¼ í†µí•´ì„œ ìƒíƒœê°€ ë³€í™”ë  ë•Œë§ˆë‹¤ ì¬ë Œë”ë§ì„ ì¼ìœ¼í‚¤ëŠ” ë°©ë²•ë„ ìˆë‹¤.

## í† ìŠ¤íŠ¸ ë©”ì„¸ì§€ í‘œì‹œ

ì´ìƒì—ì„œ êµ¬í˜„í•œ ë¶€ë¶„ì€ ì‚­ì œë¥¼ í–ˆì„ ë•Œ , cacheë¥¼ í™•ì¸í•˜ì—¬ ìµœì‹  ì •ë³´ë¥¼ ê°€ì§€ê³  ì˜¤ëŠ” ë°©ì‹ì„ íƒí–ˆë‹¤. í•˜ì§€ë§Œ 1ë²ˆ idë¥¼ ê°€ì§€ëŠ” ì •ë³´ë¥¼ ì‚­ì œí–ˆì„ ë•Œ ì•¼ ë°”ë¡œ ìœ„ì— ì—†ì–´ì¡ŒëŠ”ì§€ ë³´ìœ¼ê² ì§€ë§Œ 20 ê°œ ì¤‘ì— 12ë²ˆ ì¯¤ ë˜ëŠ” ì• ë¥¼ ì‚­ì œí•˜ë©´ ë Œë”ë§ ëì„ ë•Œ ë‹¤ì‹œ 1ë²ˆë¶€í„° ë‚˜ì˜¬ê±°ë‹ˆê¹Œ ì œëŒ€ë¡œ ì§€ì›Œì¡ŒëŠ”ì§€ ì²´í¬í•˜ê¸° í˜ë“¤ ê²ƒ

ì¦‰ UX ê°œì„ ì„ ìœ„í•˜ì—¬ ì‚­ì œë˜ì—ˆë‹¤ê³  í‘œì‹œë¥¼ í•´ì£¼ëŠ” ê²ƒ
ê·¸ëŸ°ë° alertëŠ” ì•„ë‹ˆë¼ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ.

### Snackbar

- ì£¼ëª©í•´ì•¼ í•  ê²ƒì€ shoppinglist ì•±ì—ì„œ ë„ì…í–ˆì—ˆë˜ Modalê³¼ ìœ ì‚¬í•œ ì„±ì§ˆì„ ì§€ë‹ˆê³  ìˆë‹¤ëŠ” ì ì´ë‹¤. ê·¸ë˜ì„œ ë™ì¼í•˜ê²Œ
  `const [open , setOpen] = useState(false);`
  ê·¸ë ‡ë‹¤ë©´ íŠ¹ì • ìƒí™©ì´ ë°œìƒí–ˆì„ ë•Œ setOpen(true)ë¥¼ í†µí•´ì„œ ë©”ì„¸ì§ˆë¥´ ì¶œë ¥í•˜ê³ , ë‹¤ì‹œ setOpne(false); ë¥¼ í†µí•´ì„œ ê·¸ ë©”ì„¸ì§€ê°€ ì‚¬ë¼ì ¸ì•¼ í•œë‹¤.

shoppinglistì—ì„œëŠ” add item ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ openì´ trueë¡œ ë°”ë€Œì–´ì„œ modal ì°½ì´ ë Œë”ë§ ë˜ì—ˆë‹¤.

ê·¸ëŸ¬ë©´ ì‚­ì œ í›„ì— ì‚­ì œë˜ì—ˆë‹¤ê³  ë©”ì„¸ì§€ë¥¼ ë„ìš°ê³  ì‹¶ë‹¤ë©´, Carlistì—ì„œ ì–´ëŠ ë¶€ë¶„ì— setOpen(true);ê°€ ìˆì–´ì•¼ í•˜ëŠ”ì§€.

```tsx
//Carlist
import { Snackbar } from "@mui/material";


 const [open, setOpen] = useState(false);
const { mutate } = useMutation(deleteCar, {
    onSuccess: () => {
      setOpen(true);
      queryClient.invalidateQueries({ queryKey: ["cars"] });
    }, onError: () => console.log('ì‹¤íŒ¨')
  })
  <Snackbar
        open={open}
        autoHideDuration={2000}
        onClose={() => setOpen(false)}
        message= "ì„ íƒí•œ í•­ëª©ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.â—"
  />
```
ì¶”ê°€ ëœ ë¶€ë¶„

### confirm ìƒì ì¶”ê°€í•˜ê¸°
button íƒœê·¸ ìˆ˜ì •.


```tsx
renderCell: (params: GridCellParams) => (
  <button onClick={() => {
          if(window.confirm(`${params.row.brand}ì˜ ${params.row.model} ìë™ì°¨ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`))
          mutate(params.row._links.self.href)}}>ì‚­ì œ</button>)
        }
```

ì¶”ê°€ëœ ë¶€ë¶„
<br>

```tsx
//Carlist ìµœì¢…ë³¸
import { useQuery, useMutation, useQueryClient } from "@tanstack/react-query";
import { deleteCar, getCars } from "../api/carapi";
import { DataGrid, GridColDef, GridCellParams } from "@mui/x-data-grid";
import { Snackbar } from "@mui/material";
import { useState } from "react";

function Carlist() {
  const [open, setOpen] = useState(false);
  const queryClient = useQueryClient();
  const { mutate } = useMutation(deleteCar, {
    onSuccess: () => {
      setOpen(true);
      queryClient.invalidateQueries({ queryKey: ["cars"] });
    },
    onError: () => console.log("ì‹¤íŒ¨"),
  });

  const columns: GridColDef[] = [
    { field: "brand", headerName: "ë¸Œëœë“œ", width: 150 },
    { field: "model", headerName: "ëª¨ë¸", width: 150 },
    { field: "color", headerName: "ìƒ‰ìƒ", width: 150 },
    { field: "registrationNumber", headerName: "ì°¨ëŸ‰ë²ˆí˜¸", width: 150 },
    { field: "modelYear", headerName: "ì—°ì‹", width: 150 },
    { field: "price", headerName: "ê°€ê²©", width: 150 },
    {
      field: "delete",
      headerName: "",
      width: 150,
      sortable: false,
      filterable: false,
      hideable: false,
      disableColumnMenu: true,

      renderCell: (params: GridCellParams) => (
        <button
          onClick={() => {
            if (
              window.confirm(
                `${params.row.brand}ì˜ ${params.row.model} ìë™ì°¨ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`
              )
            )
              mutate(params.row._links.self.href);
          }}
        >
          ì‚­ì œ
        </button>
      ),
    },
  ];

  const { data, isSuccess, error } = useQuery({
    queryKey: ["cars"],
    queryFn: getCars,
  });

  if (!isSuccess) {
    return <span>Loading...ğŸš€</span>;
  } else if (error) {
    return <span>ìë™ì°¨ë“¤ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. â—</span>;
  } else {
    return (
      <>
        <DataGrid
          rows={data}
          columns={columns}
          getRowId={(row) => row._links.self.href}
        />
        <Snackbar
          open={open}
          autoHideDuration={2000}
          onClose={() => setOpen(false)}
          message="ì„ íƒí•œ í•­ëª©ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.â—"
        />
      </>
    );
  }
}

export default Carlist;
```

# ìƒì„± ê¸°ëŠ¥ ì¶”ê°€
MUI ëª¨ë‹¬ í¼ì„ ì´ìš©í•˜ì—¬ Car rowë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë„ë¡ í•  ì—ì •ì´ë‹¤. New Carë¼ê³  í•˜ëŠ” ë²„íŠ¼ì„ ì¶”ê°€ë©´ ëª¨ë‹¬ í¼ì´ ì—´ë¦¬ê²Œ
í•œë‹¤. ê·¸ëŸ¬ë©´ ëª¨ë‹¬ í¼ ë‚´ì—ëŠ” ì—¬ëŸ¬ ê°œì˜ inputì´ ìˆì–´ì„œ entity ìƒì—ì„œ final/@Nonnull ì´ ìˆëŠ” fieldì— ëŒ€í•œ ëª¨ë“  ì…ë ¥ì„ ë°›ê³ , ì´ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì·¨ì†Œí•  ìˆ˜ ìˆëŠ” ë²„íŠ¼ì„ ë‚´ë¶€ì— êµ¬í˜„í•  ì˜ˆì •

shpping listì—ì„œ add item ë²„íŠ¼ê³¼ , ê·¸ ë‚´ë¶€ ëª¨ë‹¬ í¼ í˜•ì‹ì„ ì°¸ì¡°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

```tsx
// AddCar.tsx
import { Dialog, DialogActions, DialogContent, DialogTitle } from "@mui/material";
import { Car } from "../types";
import { ChangeEvent, useState } from "react";


function AddCar() {
  const [open, setOpen] = useState(false)
  const [car, setCar] = useState({
    brand: "",
    model: "",
    color: "",
    registrationNumber: "",
    modelYear: 0,
    price: 0,
  });
  const handleClickOpen = () => setOpen(true);

  const handleClickClose = () => setOpen(false);

  const handleChange = (e: ChangeEvent<HTMLInputElement>) => setCar({ ...car, [e.target.name]: e.target.value });


  return (
    <>
      <button onClick={handleClickOpen}> New Car</button>
      <Dialog open={open}>
        <DialogTitle>New Car</DialogTitle>
        <DialogContent>
          <input type="text" name="brand" value={car.brand} placeholder="Brand" onChange={handleChange} /> <br />
          <input type="text" name="model" value={car.model} placeholder="Model" onChange={handleChange} /> <br />
          <input type="text" name="color" value={car.color} placeholder="Color" onChange={handleChange} /> <br />
          <input type="text" name="registrationNumber" value={car.registrationNumber} placeholder="Num" onChange={handleChange} /> <br />
          <input type="text" name="modelYear" value={car.modelYear} placeholder="M-Y" onChange={handleChange} /> <br />
          <input type="text" name="price" value={car.price} placeholder="Price" onChange={handleChange} /> <br />
        </DialogContent>
        <DialogActions>
          <button onClick={handleClickClose}> ì €ì¥ | Save </button>
          <button onClick={handleClickClose}> ì·¨ì†Œ | Cancel </button>
        </DialogActions>
      </Dialog>
    </>
  );
}

export default AddCar;
```
ë‚˜ì¤‘ì— ì „ë¶€ html íƒœê·¸ë¥¼ muië¡œ ê°ˆì•„ ë¼ìš°ê³  í˜„ì¬ê¹Œì§€ ì‘ì„±í–ˆì„ ë•Œ ë¸Œë¼ìš°ì € ìƒì—ì„œì˜ í™”ë©´ì€ ì–´ëŠ ì •ë„ êµ¬í˜„ë˜ì—ˆë‹¤.
ê·¸ëŸ¼ í˜„ì¬ê¹Œì§€ì˜ ìƒí™©ì—ì„œ ì´í›„ì˜ ì‘ì„± ìˆœì„œëŠ” axios.postë¥¼ í†µí•´ì„œ dbë¡œ ì§€ê¸ˆ ë°ì´í„° ê°’ì„ ë„˜ê²¨ì„œ ì €ì¥í•  ìˆ˜ ìˆì–´ì•¼ í•  ê²ƒì´ê³ , ì €ì¥ì´ ì™„ë£Œë˜ì—ˆë‹¤ë©´ ê°±ì‹ ëœ getCars()ë¥¼ í˜¸ì¶œí•´ì•¼ í•œë‹¤. ë˜í•œ ì €ì¥ / ì·¨ì†Œê°€ ëœ ì´í›„ì— inputì°½ì´ ì´ˆê¸°í™”ë˜ëŠ” ê²ƒë„ ê³ ë ¤í•´ë³¼ë§Œ í•˜ë‹¤. (ê·¸ëŸ¬ë©´ ìˆ˜ì • ë•ŒëŠ” ì´ˆê¸°í™”ëœ inputì´ ì•„ë‹ˆë¼ ê¸°ì¡´ ê°’ë“¤ì´ ë¶ˆëŸ¬ì™€ì ¸ì•¼ëœë‹¤.) 