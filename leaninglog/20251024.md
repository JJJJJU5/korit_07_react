

이상의 링크를 확인하여 , 영화 정보를 JSOn에서 분석하고, 개발자가 생각했을 때 사용자에게 필요한 정보를 부라우저에 표시하게 한다.

처음 렌더링이 되는 시점에 link를 확인하여 정보를 가져올 수 있도록 할 예정


routes 폴더 생성  -> Home / detail
App2.jsx 생성 후 App.jsx 내용 초기화



```jsx
import { useState, useEffect } from "react";
import Movie from "../components/Movie"


function Home() {
  const [isLoading, setLoading] = useState(true);
  const [movies, setMovies] = useState([]);

  const getMovies = async() => {
    const res = await fetch(`https://yts.mx/api/v2/list_movies.json?minimum_rating=8.8&sort_by=year`);
    const json = await res.json();
    setMovies(json.data.movies)
    setLoading(false);
  }
  useEffect(() => {
    getMovies()
  },[])

  return (
    <div className="home-container">
      {
        isLoading? (
          <h1 className="movie-grid"> 로딩 중</h1>
        ): (
          <div className="movie-grid">
            {
              movies.map(movie => (
                <Movie
                key={movie.id}
                id={movie.id}
                coverImg={movie.medium_cover_image}
                summary={movie.summary}
                title={movie.title}
                genres={movie.genres}
                />))
            }
          </div>
        )

      }
      
    </div>
  );
}

export default Home;
```

현재까지의 상황에서 실행 가능한 것은 petch를 통해서 Json 파일에서 movies 배열의 결과값들을 movies[]에 저장했따는 점.
그리고, movies.map()을 통해 각각의 movie element `<Movie>`를 통해서 풀어줬다.
이상에서 중요한 점은 Home 컴포넌트에서 Movie 컴포넌트로 props drilling이 이루어졌다는 점이다.
`<Movie>` 컴포넌트 내에서는 객체 구조 분해를 통해서 props라는 접두어를 달지 않고도 값들을 불러냈다.

그렇다면 여기서 더 생각해볼 수 있는 부분은 각 Movie들의 세부 페이지로 들어가는 방법이다.
이 방법을 쓰려면 세부 페이지에서 다시 fetch가 이루어져야하는데,
Home에서 props drilling으로 이루어진 값을 다시 detail로 props drilling을 해야한다.
또한 , 우리가 carfront에서 작성했던 것처럼 특정 이미지나 제목을 클릭했을 경우 setOpen(true)를 통해서 모달을 띄우든지 페이지가 넘어가든지 해야하는데, props drilling으로 받은 속성과 Detail컴포넌트 내에서 새로 선언해야 하는 상태 등이 너무 많아 복잡해지게 된다.


두 번째 방법으로는 이미 우리가 이미지나 제목을 클릭하면 엔드포인트가 변동이 일어난다는 점이다.
그렇다면 Routes - Router를 활용하여 특정 엔드포인트일 때 특정 컴포넌트를 불러오는 react-router-dom을 활용 할 수 있다.

